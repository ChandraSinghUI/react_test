{"ast":null,"code":"import _toConsumableArray from \"/home/xavient/Downloads/mq5nzw6yvy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/xavient/Downloads/mq5nzw6yvy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar initialState = {\n  data: [{\n    id: 0,\n    name: \"Room 1\",\n    checkbox: \"\",\n    active: true,\n    adult: 1,\n    children: 1\n  }, {\n    id: 1,\n    name: \"Room 2\",\n    checkbox: \"present\",\n    active: false,\n    adult: 2,\n    children: 2\n  }, {\n    id: 2,\n    name: \"Room 3\",\n    checkbox: \"present\",\n    active: false,\n    adult: 1,\n    children: 0\n  }, {\n    id: 3,\n    name: \"Room 4\",\n    checkbox: \"present\",\n    active: false,\n    adult: 2,\n    children: 1\n  }]\n}; //initialState=;\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var data = JSON.parse(localStorage.getItem('data'));\n\n  if (JSON.parse(localStorage.getItem('data')) != null) {\n    state = _objectSpread({}, data);\n  } else {\n    state = _objectSpread({}, state);\n  }\n\n  switch (action.type) {\n    case \"fetch_data\":\n      var newState = JSON.parse(localStorage.getItem('data'));\n\n      if (!newState) {\n        return _objectSpread({}, state.data);\n      } else {\n        return _objectSpread({}, state.data);\n      }\n\n    case \"TOGGLESELECT\":\n      var newState = {\n        \"data\": []\n      };\n      newState[\"data\"] = _toConsumableArray(state.data);\n\n      if (action.payload.active == true) {\n        newState.data.map(function (olddata) {\n          if (olddata.id <= action.payload.data.id) {\n            olddata.active = true;\n          }\n\n          return olddata;\n        });\n      }\n\n      if (action.payload.active == false) {\n        newState.data.map(function (olddata, index) {\n          if (olddata.id >= action.payload.data.id) {\n            olddata.active = false;\n            console.log(initialState.data[index].adult, initialState.data[index].children);\n            olddata.adult = initialState.data[index].adult;\n            olddata.children = initialState.data[index].children;\n          }\n\n          return olddata;\n        });\n      }\n\n      return _objectSpread({}, newState);\n\n    case \"SAVEDATA\":\n      var newState = {\n        \"data\": []\n      };\n      newState[\"data\"] = _toConsumableArray(action.payload);\n      localStorage.setItem('data', JSON.stringify(_objectSpread({}, newState)));\n      return _objectSpread({}, newState);\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/xavient/Downloads/mq5nzw6yvy/src/store/Reducers/index.js"],"names":["initialState","data","id","name","checkbox","active","adult","children","reducer","state","action","JSON","parse","localStorage","getItem","type","newState","payload","map","olddata","index","console","log","setItem","stringify"],"mappings":"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","sourcesContent":["const initialState = {\r\n\r\n  data: [\r\n    {\r\n      id: 0,\r\n      name: \"Room 1\",\r\n      checkbox: \"\",\r\n      active: true,\r\n      adult: 1,      \r\n      children: 1\r\n    },\r\n    {\r\n      id: 1,\r\n      name: \"Room 2\",\r\n      checkbox: \"present\",\r\n      active: false,\r\n      adult: 2,\r\n      children: 2\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Room 3\",\r\n      checkbox: \"present\",\r\n      active: false,\r\n      adult: 1,\r\n      children: 0\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Room 4\",\r\n      checkbox: \"present\",\r\n      active: false,\r\n      adult: 2,\r\n      children: 1\r\n    }\r\n  ]\r\n};\r\n\r\n\r\n//initialState=;\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\r\n  var data =JSON.parse(localStorage.getItem('data'));\r\n\r\nif(JSON.parse(localStorage.getItem('data')) != null){\r\n  state={...data}\r\n}\r\nelse{\r\n  state={...state}\r\n}\r\n\r\n\r\n  switch (action.type) {\r\n    case \"fetch_data\":\r\n      var newState=JSON.parse(localStorage.getItem('data'));\r\n      if(!newState){\r\n        return {\r\n          ...state.data\r\n        };  \r\n      }\r\n      else{\r\n      return {\r\n        ...state.data\r\n      };\r\n    }\r\n    \r\n    case \"TOGGLESELECT\":\r\n      var newState ={\"data\":[]};\r\n      newState[\"data\"]=[...state.data];\r\n     if(action.payload.active == true){\r\n          newState.data.map((olddata)=>{\r\n                if(olddata.id <= action.payload.data.id){\r\n                  olddata.active=true;\r\n                }\r\n                return olddata;\r\n          })\r\n     }\r\n\r\n     if(action.payload.active == false){\r\n      newState.data.map((olddata,index)=>{\r\n            if(olddata.id >= action.payload.data.id){\r\n              olddata.active=false;\r\n              console.log(initialState.data[index].adult, initialState.data[index].children)\r\n              olddata.adult=initialState.data[index].adult;\r\n              olddata.children=initialState.data[index].children;              \r\n            }\r\n            return olddata;\r\n      })\r\n }\r\n\r\n      return {\r\n        ...newState\r\n      };\r\n\r\n      case \"SAVEDATA\":\r\n      var newState ={\"data\":[]};\r\n      newState[\"data\"]=[...action.payload];\r\n      localStorage.setItem('data',JSON.stringify({...newState}));            \r\n      return{\r\n        ...newState\r\n      }  \r\n\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}